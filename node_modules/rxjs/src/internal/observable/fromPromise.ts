import {Observable} from 'rxjs/src/internal/Observable';
import {SchedulerLike} from 'rxjs/src/internal/types';
import {subscribeToPromise} from 'rxjs/src/internal/util/subscribeToPromise';
import {schedulePromise} from 'rxjs/src/internal/scheduled/schedulePromise';

export function fromPromise<T>(input: PromiseLike<T>, scheduler?: SchedulerLike) {
    if (!scheduler) {
        return new Observable<T>(subscribeToPromise(input));
    } else {
        return schedulePromise(input, scheduler);
    }
}
