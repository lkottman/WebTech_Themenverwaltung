/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */
import {Observable} from 'rxjs/internal/Observable';
import {Subscription} from 'rxjs/internal/Subscription';

export function schedulePromise(input, scheduler) {
    return new Observable(function (subscriber) {
        var sub = new Subscription();
        sub.add(scheduler.schedule(function () {
            return input.then(function (value) {
                sub.add(scheduler.schedule(function () {
                    subscriber.next(value);
                    sub.add(scheduler.schedule(function () {
                        return subscriber.complete();
                    }));
                }));
            }, function (err) {
                sub.add(scheduler.schedule(function () {
                    return subscriber.error(err);
                }));
            });
        }));
        return sub;
    });
}

//# sourceMappingURL=schedulePromise.js.map
